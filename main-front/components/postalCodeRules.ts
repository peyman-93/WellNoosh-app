export interface PostalCodeRule {
  pattern: RegExp;
  example: string;
}

export interface CityPostalRule {
  prefixes: string[];
  example: string;
}

export const countryPostalPatterns: { [key: string]: PostalCodeRule } = {
  'United States': { pattern: /^\d{5}(-\d{4})?$/, example: '12345 or 12345-6789' },
  'Canada': { pattern: /^[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d$/, example: 'A1B 2C3' },
  'United Kingdom': { pattern: /^[A-Za-z]{1,2}\d[A-Za-z\d]?\s?\d[A-Za-z]{2}$/, example: 'SW1A 1AA' },
  'Germany': { pattern: /^\d{5}$/, example: '12345' },
  'France': { pattern: /^\d{5}$/, example: '75001' },
  'Australia': { pattern: /^\d{4}$/, example: '2000' },
  'Netherlands': { pattern: /^\d{4}\s?[A-Za-z]{2}$/, example: '1234 AB' },
  'Italy': { pattern: /^\d{5}$/, example: '00100' },
  'Spain': { pattern: /^\d{5}$/, example: '28001' },
  'Belgium': { pattern: /^\d{4}$/, example: '1000' },
};

export const cityPostalPrefixes: { [country: string]: { [city: string]: CityPostalRule } } = {
  'United States': {
    'New York': { prefixes: ['100', '101', '102', '103', '104', '110', '111', '112', '113', '114'], example: '10001-11499' },
    'Los Angeles': { prefixes: ['900', '901', '902', '903', '904', '905', '906', '907', '908', '910', '911', '912', '913', '914', '915', '916', '917', '918'], example: '90001-91899' },
    'Chicago': { prefixes: ['606', '607', '608'], example: '60601-60827' },
    'Houston': { prefixes: ['770', '771', '772', '773', '774', '775'], example: '77001-77599' },
    'Phoenix': { prefixes: ['850', '851', '852', '853'], example: '85001-85399' },
    'Philadelphia': { prefixes: ['190', '191'], example: '19001-19199' },
    'San Antonio': { prefixes: ['782'], example: '78201-78299' },
    'San Diego': { prefixes: ['919', '920', '921'], example: '91901-92199' },
    'Dallas': { prefixes: ['752', '753', '754', '750', '751'], example: '75001-75499' },
    'San Jose': { prefixes: ['950', '951'], example: '95001-95199' },
    'Austin': { prefixes: ['786', '787', '788'], example: '78601-78899' },
    'Jacksonville': { prefixes: ['322'], example: '32201-32299' },
    'Fort Worth': { prefixes: ['761', '762'], example: '76101-76299' },
    'Columbus': { prefixes: ['432'], example: '43201-43299' },
    'Charlotte': { prefixes: ['282'], example: '28201-28299' },
    'San Francisco': { prefixes: ['941'], example: '94101-94199' },
    'Indianapolis': { prefixes: ['462'], example: '46201-46299' },
    'Seattle': { prefixes: ['981'], example: '98101-98199' },
    'Denver': { prefixes: ['802'], example: '80201-80299' },
    'Boston': { prefixes: ['021', '022'], example: '02101-02299' },
    'El Paso': { prefixes: ['799'], example: '79901-79999' },
    'Detroit': { prefixes: ['482'], example: '48201-48299' },
    'Nashville': { prefixes: ['372'], example: '37201-37299' },
    'Portland': { prefixes: ['972'], example: '97201-97299' },
    'Memphis': { prefixes: ['381'], example: '38101-38199' },
    'Oklahoma City': { prefixes: ['731'], example: '73101-73199' },
    'Las Vegas': { prefixes: ['891'], example: '89101-89199' },
    'Louisville': { prefixes: ['402'], example: '40201-40299' },
    'Baltimore': { prefixes: ['212'], example: '21201-21299' },
    'Milwaukee': { prefixes: ['532'], example: '53201-53299' },
    'Albuquerque': { prefixes: ['871'], example: '87101-87199' },
    'Tucson': { prefixes: ['857'], example: '85701-85799' },
    'Fresno': { prefixes: ['937'], example: '93701-93799' },
    'Sacramento': { prefixes: ['958'], example: '95801-95899' },
    'Kansas City': { prefixes: ['641'], example: '64101-64199' },
    'Mesa': { prefixes: ['852'], example: '85201-85299' },
    'Atlanta': { prefixes: ['303'], example: '30301-30399' },
    'Colorado Springs': { prefixes: ['809'], example: '80901-80999' },
    'Omaha': { prefixes: ['681'], example: '68101-68199' },
    'Raleigh': { prefixes: ['276'], example: '27601-27699' },
    'Miami': { prefixes: ['331', '332', '333'], example: '33101-33299' },
    'Long Beach': { prefixes: ['908'], example: '90801-90899' },
    'Virginia Beach': { prefixes: ['234'], example: '23451-23459' },
    'Oakland': { prefixes: ['946'], example: '94601-94699' },
    'Minneapolis': { prefixes: ['554'], example: '55401-55499' },
    'Tulsa': { prefixes: ['741'], example: '74101-74199' },
    'Tampa': { prefixes: ['336'], example: '33601-33699' },
    'Arlington': { prefixes: ['760'], example: '76001-76099' },
    'New Orleans': { prefixes: ['701'], example: '70101-70199' },
  },
  'Canada': {
    'Toronto': { prefixes: ['M'], example: 'M5V 1A1' },
    'Montreal': { prefixes: ['H'], example: 'H3A 1A1' },
    'Vancouver': { prefixes: ['V'], example: 'V6B 1A1' },
    'Calgary': { prefixes: ['T'], example: 'T2P 1A1' },
    'Edmonton': { prefixes: ['T'], example: 'T5J 1A1' },
    'Ottawa': { prefixes: ['K'], example: 'K1A 0A1' },
    'Winnipeg': { prefixes: ['R'], example: 'R3C 1A1' },
    'Quebec City': { prefixes: ['G'], example: 'G1A 1A1' },
    'Hamilton': { prefixes: ['L'], example: 'L8P 1A1' },
    'Kitchener': { prefixes: ['N'], example: 'N2G 1A1' },
    'London': { prefixes: ['N'], example: 'N6A 1A1' },
    'Victoria': { prefixes: ['V'], example: 'V8W 1A1' },
    'Halifax': { prefixes: ['B'], example: 'B3J 1A1' },
    'Oshawa': { prefixes: ['L'], example: 'L1G 1A1' },
    'Windsor': { prefixes: ['N'], example: 'N9A 1A1' },
    'Saskatoon': { prefixes: ['S'], example: 'S7K 1A1' },
    'St. Catharines': { prefixes: ['L'], example: 'L2R 1A1' },
    'Regina': { prefixes: ['S'], example: 'S4P 1A1' },
    'Kelowna': { prefixes: ['V'], example: 'V1Y 1A1' },
    'Barrie': { prefixes: ['L'], example: 'L4M 1A1' },
    'Sherbrooke': { prefixes: ['J'], example: 'J1H 1A1' },
    'Guelph': { prefixes: ['N'], example: 'N1H 1A1' },
    'Kanata': { prefixes: ['K'], example: 'K2K 1A1' },
    'Abbotsford': { prefixes: ['V'], example: 'V2S 1A1' },
    'Trois-Rivières': { prefixes: ['G'], example: 'G9A 1A1' },
    'Kingston': { prefixes: ['K'], example: 'K7L 1A1' },
    'Milton': { prefixes: ['L'], example: 'L9T 1A1' },
    'Moncton': { prefixes: ['E'], example: 'E1C 1A1' },
    'White Rock': { prefixes: ['V'], example: 'V4B 1A1' },
    'Nanaimo': { prefixes: ['V'], example: 'V9R 1A1' },
    'Brantford': { prefixes: ['N'], example: 'N3R 1A1' },
    'Chicoutimi': { prefixes: ['G'], example: 'G7H 1A1' },
    'Saint-Jérôme': { prefixes: ['J'], example: 'J7Y 1A1' },
    'Red Deer': { prefixes: ['T'], example: 'T4N 1A1' },
    'Thunder Bay': { prefixes: ['P'], example: 'P7A 1A1' },
  },
  'United Kingdom': {
    'London': { prefixes: ['E', 'EC', 'N', 'NW', 'SE', 'SW', 'W', 'WC'], example: 'SW1A 1AA' },
    'Birmingham': { prefixes: ['B'], example: 'B1 1AA' },
    'Manchester': { prefixes: ['M'], example: 'M1 1AA' },
    'Glasgow': { prefixes: ['G'], example: 'G1 1AA' },
    'Liverpool': { prefixes: ['L'], example: 'L1 1AA' },
    'Leeds': { prefixes: ['LS'], example: 'LS1 1AA' },
    'Sheffield': { prefixes: ['S'], example: 'S1 1AA' },
    'Edinburgh': { prefixes: ['EH'], example: 'EH1 1AA' },
    'Bristol': { prefixes: ['BS'], example: 'BS1 1AA' },
    'Cardiff': { prefixes: ['CF'], example: 'CF1 1AA' },
    'Leicester': { prefixes: ['LE'], example: 'LE1 1AA' },
    'Coventry': { prefixes: ['CV'], example: 'CV1 1AA' },
    'Bradford': { prefixes: ['BD'], example: 'BD1 1AA' },
    'Belfast': { prefixes: ['BT'], example: 'BT1 1AA' },
    'Nottingham': { prefixes: ['NG'], example: 'NG1 1AA' },
    'Hull': { prefixes: ['HU'], example: 'HU1 1AA' },
    'Newcastle': { prefixes: ['NE'], example: 'NE1 1AA' },
    'Stoke-on-Trent': { prefixes: ['ST'], example: 'ST1 1AA' },
    'Southampton': { prefixes: ['SO'], example: 'SO14 1AA' },
    'Derby': { prefixes: ['DE'], example: 'DE1 1AA' },
    'Portsmouth': { prefixes: ['PO'], example: 'PO1 1AA' },
    'Brighton': { prefixes: ['BN'], example: 'BN1 1AA' },
    'Plymouth': { prefixes: ['PL'], example: 'PL1 1AA' },
    'Reading': { prefixes: ['RG'], example: 'RG1 1AA' },
    'Luton': { prefixes: ['LU'], example: 'LU1 1AA' },
    'Wolverhampton': { prefixes: ['WV'], example: 'WV1 1AA' },
    'Bolton': { prefixes: ['BL'], example: 'BL1 1AA' },
    'Bournemouth': { prefixes: ['BH'], example: 'BH1 1AA' },
    'Norwich': { prefixes: ['NR'], example: 'NR1 1AA' },
    'Swindon': { prefixes: ['SN'], example: 'SN1 1AA' },
    'Swansea': { prefixes: ['SA'], example: 'SA1 1AA' },
    'Southend': { prefixes: ['SS'], example: 'SS1 1AA' },
    'Middlesbrough': { prefixes: ['TS'], example: 'TS1 1AA' },
    'Peterborough': { prefixes: ['PE'], example: 'PE1 1AA' },
    'Cambridge': { prefixes: ['CB'], example: 'CB1 1AA' },
  },
  'Australia': {
    'Sydney': { prefixes: ['20', '21', '22', '23'], example: '2000-2399' },
    'Melbourne': { prefixes: ['30', '31', '32', '33', '34', '38', '39'], example: '3000-3999' },
    'Brisbane': { prefixes: ['40', '41', '42', '43', '44', '45', '46', '47', '48', '49'], example: '4000-4999' },
    'Perth': { prefixes: ['60', '61', '62', '63', '64', '65', '66', '67', '68', '69'], example: '6000-6999' },
    'Adelaide': { prefixes: ['50', '51', '52', '53', '54', '55', '56', '57', '58'], example: '5000-5899' },
    'Gold Coast': { prefixes: ['42'], example: '4200-4299' },
    'Newcastle': { prefixes: ['23', '24', '25'], example: '2300-2599' },
    'Canberra': { prefixes: ['26', '02', '29'], example: '2600-2618' },
    'Sunshine Coast': { prefixes: ['45', '46'], example: '4500-4600' },
    'Wollongong': { prefixes: ['25'], example: '2500-2530' },
    'Hobart': { prefixes: ['70'], example: '7000-7099' },
    'Geelong': { prefixes: ['32'], example: '3200-3299' },
    'Townsville': { prefixes: ['48'], example: '4800-4899' },
    'Cairns': { prefixes: ['48', '49'], example: '4868-4895' },
    'Toowoomba': { prefixes: ['43'], example: '4350-4399' },
    'Darwin': { prefixes: ['08'], example: '0800-0899' },
    'Ballarat': { prefixes: ['33'], example: '3350-3399' },
    'Bendigo': { prefixes: ['35'], example: '3550-3599' },
    'Albury': { prefixes: ['26', '36'], example: '2640-3644' },
    'Launceston': { prefixes: ['72', '73'], example: '7200-7399' },
    'Mackay': { prefixes: ['47'], example: '4740-4799' },
    'Rockhampton': { prefixes: ['47'], example: '4700-4730' },
    'Bunbury': { prefixes: ['62'], example: '6230-6299' },
    'Bundaberg': { prefixes: ['46'], example: '4670-4699' },
    'Coffs Harbour': { prefixes: ['24'], example: '2450-2499' },
    'Wagga Wagga': { prefixes: ['26', '27'], example: '2650-2700' },
    'Hervey Bay': { prefixes: ['46'], example: '4655-4659' },
    'Mildura': { prefixes: ['35'], example: '3500-3502' },
    'Shepparton': { prefixes: ['36'], example: '3630-3634' },
    'Port Macquarie': { prefixes: ['24'], example: '2444-2448' },
  },
  'Germany': {
    'Berlin': { prefixes: ['10', '12', '13', '14'], example: '10115-14199' },
    'Hamburg': { prefixes: ['20', '21', '22'], example: '20095-22769' },
    'Munich': { prefixes: ['80', '81'], example: '80331-81929' },
    'Cologne': { prefixes: ['50', '51'], example: '50667-51149' },
    'Frankfurt': { prefixes: ['60', '65'], example: '60306-65936' },
    'Stuttgart': { prefixes: ['70', '71'], example: '70173-71739' },
    'Düsseldorf': { prefixes: ['40'], example: '40210-40629' },
    'Dortmund': { prefixes: ['44'], example: '44135-44388' },
    'Essen': { prefixes: ['45'], example: '45127-45359' },
    'Leipzig': { prefixes: ['04'], example: '04103-04357' },
    'Bremen': { prefixes: ['28'], example: '28195-28779' },
    'Dresden': { prefixes: ['01'], example: '01067-01328' },
    'Hanover': { prefixes: ['30'], example: '30159-30669' },
    'Nuremberg': { prefixes: ['90'], example: '90402-90491' },
    'Duisburg': { prefixes: ['47'], example: '47051-47279' },
    'Bochum': { prefixes: ['44'], example: '44787-44894' },
    'Wuppertal': { prefixes: ['42'], example: '42103-42399' },
    'Bielefeld': { prefixes: ['33'], example: '33602-33739' },
    'Bonn': { prefixes: ['53'], example: '53111-53229' },
    'Münster': { prefixes: ['48'], example: '48143-48167' },
    'Karlsruhe': { prefixes: ['76'], example: '76131-76229' },
    'Mannheim': { prefixes: ['68'], example: '68159-68309' },
    'Augsburg': { prefixes: ['86'], example: '86150-86199' },
    'Wiesbaden': { prefixes: ['65'], example: '65183-65207' },
    'Gelsenkirchen': { prefixes: ['45'], example: '45879-45899' },
    'Mönchengladbach': { prefixes: ['41'], example: '41061-41239' },
    'Braunschweig': { prefixes: ['38'], example: '38100-38126' },
    'Chemnitz': { prefixes: ['09'], example: '09111-09247' },
    'Kiel': { prefixes: ['24'], example: '24103-24159' },
    'Aachen': { prefixes: ['52'], example: '52062-52080' },
  },
  'France': {
    'Paris': { prefixes: ['75'], example: '75001-75020' },
    'Marseille': { prefixes: ['13'], example: '13001-13016' },
    'Lyon': { prefixes: ['69'], example: '69001-69009' },
    'Toulouse': { prefixes: ['31'], example: '31000-31500' },
    'Nice': { prefixes: ['06'], example: '06000-06300' },
    'Nantes': { prefixes: ['44'], example: '44000-44300' },
    'Strasbourg': { prefixes: ['67'], example: '67000-67200' },
    'Montpellier': { prefixes: ['34'], example: '34000-34090' },
    'Bordeaux': { prefixes: ['33'], example: '33000-33300' },
    'Lille': { prefixes: ['59'], example: '59000-59800' },
    'Rennes': { prefixes: ['35'], example: '35000-35700' },
    'Reims': { prefixes: ['51'], example: '51100' },
    'Le Havre': { prefixes: ['76'], example: '76600-76620' },
    'Saint-Étienne': { prefixes: ['42'], example: '42000-42100' },
    'Toulon': { prefixes: ['83'], example: '83000-83200' },
    'Grenoble': { prefixes: ['38'], example: '38000-38100' },
    'Dijon': { prefixes: ['21'], example: '21000' },
    'Angers': { prefixes: ['49'], example: '49000-49100' },
    'Nîmes': { prefixes: ['30'], example: '30000-30900' },
    'Villeurbanne': { prefixes: ['69'], example: '69100' },
    'Saint-Denis': { prefixes: ['93'], example: '93200-93210' },
    'Le Mans': { prefixes: ['72'], example: '72000-72100' },
    'Aix-en-Provence': { prefixes: ['13'], example: '13080-13100' },
    'Clermont-Ferrand': { prefixes: ['63'], example: '63000-63100' },
    'Brest': { prefixes: ['29'], example: '29200' },
    'Tours': { prefixes: ['37'], example: '37000-37100' },
    'Limoges': { prefixes: ['87'], example: '87000-87100' },
    'Amiens': { prefixes: ['80'], example: '80000-80090' },
    'Perpignan': { prefixes: ['66'], example: '66000-66100' },
    'Metz': { prefixes: ['57'], example: '57000-57070' },
  },
  'Italy': {
    'Rome': { prefixes: ['00'], example: '00100-00199' },
    'Milan': { prefixes: ['20'], example: '20100-20199' },
    'Naples': { prefixes: ['80'], example: '80100-80147' },
    'Turin': { prefixes: ['10'], example: '10100-10156' },
    'Palermo': { prefixes: ['90'], example: '90100-90151' },
    'Genoa': { prefixes: ['16'], example: '16121-16167' },
    'Bologna': { prefixes: ['40'], example: '40121-40141' },
    'Florence': { prefixes: ['50'], example: '50100-50145' },
    'Bari': { prefixes: ['70'], example: '70121-70132' },
    'Catania': { prefixes: ['95'], example: '95121-95131' },
    'Venice': { prefixes: ['30'], example: '30121-30176' },
    'Verona': { prefixes: ['37'], example: '37121-37142' },
    'Messina': { prefixes: ['98'], example: '98121-98168' },
    'Padua': { prefixes: ['35'], example: '35121-35143' },
    'Trieste': { prefixes: ['34'], example: '34121-34151' },
    'Taranto': { prefixes: ['74'], example: '74121-74123' },
    'Brescia': { prefixes: ['25'], example: '25121-25136' },
    'Parma': { prefixes: ['43'], example: '43121-43126' },
    'Prato': { prefixes: ['59'], example: '59100' },
    'Modena': { prefixes: ['41'], example: '41121-41126' },
    'Reggio Calabria': { prefixes: ['89'], example: '89121-89135' },
    'Reggio Emilia': { prefixes: ['42'], example: '42121-42124' },
    'Perugia': { prefixes: ['06'], example: '06121-06135' },
    'Livorno': { prefixes: ['57'], example: '57121-57128' },
    'Ravenna': { prefixes: ['48'], example: '48121-48125' },
    'Cagliari': { prefixes: ['09'], example: '09121-09134' },
    'Foggia': { prefixes: ['71'], example: '71121-71122' },
    'Rimini': { prefixes: ['47'], example: '47921-47924' },
    'Salerno': { prefixes: ['84'], example: '84121-84135' },
    'Ferrara': { prefixes: ['44'], example: '44121-44124' },
  },
  'Spain': {
    'Madrid': { prefixes: ['28'], example: '28001-28054' },
    'Barcelona': { prefixes: ['08'], example: '08001-08042' },
    'Valencia': { prefixes: ['46'], example: '46001-46026' },
    'Seville': { prefixes: ['41'], example: '41001-41020' },
    'Zaragoza': { prefixes: ['50'], example: '50001-50018' },
    'Málaga': { prefixes: ['29'], example: '29001-29018' },
    'Murcia': { prefixes: ['30'], example: '30001-30012' },
    'Palma': { prefixes: ['07'], example: '07001-07015' },
    'Las Palmas': { prefixes: ['35'], example: '35001-35019' },
    'Bilbao': { prefixes: ['48'], example: '48001-48015' },
    'Alicante': { prefixes: ['03'], example: '03001-03016' },
    'Córdoba': { prefixes: ['14'], example: '14001-14014' },
    'Valladolid': { prefixes: ['47'], example: '47001-47016' },
    'Vigo': { prefixes: ['36'], example: '36201-36214' },
    'Gijón': { prefixes: ['33'], example: '33201-33212' },
    'Hospitalet': { prefixes: ['08'], example: '08901-08908' },
    'A Coruña': { prefixes: ['15'], example: '15001-15011' },
    'Granada': { prefixes: ['18'], example: '18001-18015' },
    'Vitoria': { prefixes: ['01'], example: '01001-01015' },
    'Elche': { prefixes: ['03'], example: '03201-03206' },
    'Oviedo': { prefixes: ['33'], example: '33001-33012' },
    'Badalona': { prefixes: ['08'], example: '08911-08918' },
    'Cartagena': { prefixes: ['30'], example: '30201-30205' },
    'Terrassa': { prefixes: ['08'], example: '08221-08228' },
    'Jerez': { prefixes: ['11'], example: '11401-11408' },
    'Sabadell': { prefixes: ['08'], example: '08201-08208' },
    'Móstoles': { prefixes: ['28'], example: '28931-28938' },
    'Santa Cruz': { prefixes: ['38'], example: '38001-38010' },
    'Pamplona': { prefixes: ['31'], example: '31001-31015' },
    'Almería': { prefixes: ['04'], example: '04001-04009' },
  },
  'Netherlands': {
    'Amsterdam': { prefixes: ['10', '11'], example: '1011 AB - 1109 ZZ' },
    'Rotterdam': { prefixes: ['30', '31', '32'], example: '3011 AB - 3299 ZZ' },
    'The Hague': { prefixes: ['25'], example: '2511 AB - 2599 ZZ' },
    'Utrecht': { prefixes: ['35'], example: '3511 AB - 3599 ZZ' },
    'Eindhoven': { prefixes: ['56'], example: '5611 AB - 5699 ZZ' },
    'Tilburg': { prefixes: ['50'], example: '5011 AB - 5099 ZZ' },
    'Groningen': { prefixes: ['97'], example: '9711 AB - 9747 ZZ' },
    'Almere': { prefixes: ['13'], example: '1311 AB - 1399 ZZ' },
    'Breda': { prefixes: ['48'], example: '4811 AB - 4899 ZZ' },
    'Nijmegen': { prefixes: ['65'], example: '6511 AB - 6599 ZZ' },
    'Enschede': { prefixes: ['75'], example: '7511 AB - 7599 ZZ' },
    'Haarlem': { prefixes: ['20', '21'], example: '2011 AB - 2199 ZZ' },
    'Arnhem': { prefixes: ['68'], example: '6811 AB - 6899 ZZ' },
    'Zaanstad': { prefixes: ['15'], example: '1500 AB - 1599 ZZ' },
    'Amersfoort': { prefixes: ['38'], example: '3811 AB - 3899 ZZ' },
    'Apeldoorn': { prefixes: ['73'], example: '7311 AB - 7399 ZZ' },
    'Haarlemmermeer': { prefixes: ['21'], example: '2130 AB - 2159 ZZ' },
    'Den Bosch': { prefixes: ['52'], example: '5211 AB - 5299 ZZ' },
    'Zwolle': { prefixes: ['80'], example: '8011 AB - 8099 ZZ' },
    'Zoetermeer': { prefixes: ['27'], example: '2711 AB - 2729 ZZ' },
    'Maastricht': { prefixes: ['62'], example: '6211 AB - 6229 ZZ' },
    'Dordrecht': { prefixes: ['33'], example: '3311 AB - 3399 ZZ' },
    'Leiden': { prefixes: ['23'], example: '2311 AB - 2333 ZZ' },
    'Emmen': { prefixes: ['78'], example: '7811 AB - 7899 ZZ' },
    'Westland': { prefixes: ['26'], example: '2671 AB - 2691 ZZ' },
    'Delft': { prefixes: ['26'], example: '2611 AB - 2629 ZZ' },
    'Venlo': { prefixes: ['59'], example: '5911 AB - 5928 ZZ' },
    'Alkmaar': { prefixes: ['18'], example: '1811 AB - 1825 ZZ' },
    'Leeuwarden': { prefixes: ['89'], example: '8911 AB - 8939 ZZ' },
    'Hilversum': { prefixes: ['12'], example: '1211 AB - 1223 ZZ' },
  },
  'Belgium': {
    'Brussels': { prefixes: ['10', '11', '12'], example: '1000-1210' },
    'Antwerp': { prefixes: ['20', '21'], example: '2000-2180' },
    'Ghent': { prefixes: ['90'], example: '9000-9052' },
    'Charleroi': { prefixes: ['60'], example: '6000-6061' },
    'Liège': { prefixes: ['40'], example: '4000-4102' },
    'Bruges': { prefixes: ['80'], example: '8000-8380' },
    'Namur': { prefixes: ['50'], example: '5000-5100' },
    'Leuven': { prefixes: ['30'], example: '3000-3018' },
    'Mons': { prefixes: ['70'], example: '7000-7034' },
    'Aalst': { prefixes: ['93'], example: '9300-9320' },
    'Mechelen': { prefixes: ['28'], example: '2800-2812' },
    'La Louvière': { prefixes: ['71'], example: '7100-7110' },
    'Kortrijk': { prefixes: ['85'], example: '8500-8511' },
    'Hasselt': { prefixes: ['35'], example: '3500-3512' },
    'Sint-Niklaas': { prefixes: ['91'], example: '9100-9120' },
    'Ostend': { prefixes: ['84'], example: '8400-8450' },
    'Genk': { prefixes: ['36'], example: '3600-3620' },
    'Seraing': { prefixes: ['41'], example: '4100-4102' },
    'Roeselare': { prefixes: ['88'], example: '8800-8830' },
    'Mouscron': { prefixes: ['77'], example: '7700-7712' },
    'Verviers': { prefixes: ['48'], example: '4800-4802' },
    'Beveren': { prefixes: ['91'], example: '9120-9130' },
    'Dendermonde': { prefixes: ['92'], example: '9200-9220' },
    'Beringen': { prefixes: ['35'], example: '3580-3583' },
    'Turnhout': { prefixes: ['23'], example: '2300-2310' },
    'Vilvoorde': { prefixes: ['18'], example: '1800-1830' },
    'Lokeren': { prefixes: ['91'], example: '9160' },
    'Sint-Truiden': { prefixes: ['38'], example: '3800-3806' },
    'Herstal': { prefixes: ['46'], example: '4040-4042' },
    'Brasschaat': { prefixes: ['29'], example: '2930' },
  },
};

export const validatePostalCode = (
  countryName: string, 
  code: string, 
  cityName?: string
): { valid: boolean; message: string } => {
  if (!code || code.trim() === '') {
    return { valid: false, message: 'Postal code is required' };
  }

  const trimmedCode = code.trim().toUpperCase();
  const normalizedCountry = countryName.trim().toLowerCase();
  const countryEntry = Object.entries(countryPostalPatterns).find(
    ([key]) => key.toLowerCase() === normalizedCountry
  );
  
  if (!countryEntry) {
    return { valid: true, message: '' };
  }

  const [countryKey, countryPattern] = countryEntry;

  if (!countryPattern.pattern.test(trimmedCode)) {
    return { 
      valid: false, 
      message: `Invalid postal code for ${countryKey}. Example: ${countryPattern.example}` 
    };
  }

  if (cityName) {
    const countryPrefixes = cityPostalPrefixes[countryKey];
    if (countryPrefixes) {
      const normalizedCity = cityName.trim().toLowerCase();
      const cityEntry = Object.entries(countryPrefixes).find(
        ([key]) => key.toLowerCase() === normalizedCity
      );
      
      if (cityEntry) {
        const [cityKey, cityData] = cityEntry;
        const codeStart = trimmedCode.replace(/\s/g, '');
        const hasValidPrefix = cityData.prefixes.some(prefix => 
          codeStart.toUpperCase().startsWith(prefix.toUpperCase())
        );
        
        if (!hasValidPrefix) {
          return {
            valid: false,
            message: `Invalid postal code for ${cityKey}. Valid range: ${cityData.example}`
          };
        }
      }
    }
  }

  return { valid: true, message: '' };
};
