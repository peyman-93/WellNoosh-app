(casrl-venv) mohammadpeyman@Mohammads-MacBook-Air main-brain % ./start_api.sh
âœ… Activated virtual environment
ðŸš€ Starting Recommendation API server...
MealPlannerAgent initialized with openai
LangGraph Agent initialized with openai
LangGraph recommendation agent initialized successfully
MealPlannerAgent initialized with openai
Meal planner agent initialized successfully
Starting LangGraph Recommendation API server on 0.0.0.0:8000
LangGraph workflow features:
  - State-based recipe processing pipeline
  - Conditional routing for safety validation
  - LLM-powered recipe adaptation
  - Structured instruction parsing
  - Enhanced allergen and medical condition handling
INFO:     Started server process [14197]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:58060 - "POST /api/meal-plans/ai-chat HTTP/1.1" 200 OK
INFO:     127.0.0.1:58127 - "POST /api/meal-plans/ai-chat HTTP/1.1" 200 OK

============================================================
Generating Meal Plan
============================================================
User: 3eabc232-d790-4c79-bb8e-7b6380b3013c, Days: 7, Start: 2025-12-27
Error generating meal plan: invalid literal for int() with base 10: '117.38'
Traceback (most recent call last):
  File "/Users/mohammadpeyman/Desktop/PeyFab_Tech_demo/WellNoosh-app/main-brain/src/meal_planner_agent.py", line 299, in generate_meal_plan
    'calories': int(recipe.get('calories', 0)),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: invalid literal for int() with base 10: '117.38'
INFO:     127.0.0.1:58155 - "POST /api/meal-plans/ai-generate HTTP/1.1" 200 OK
INFO:     127.0.0.1:58221 - "POST /api/meal-plans/ai-chat HTTP/1.1" 200 OK

============================================================
Generating Meal Plan
============================================================
User: 3eabc232-d790-4c79-bb8e-7b6380b3013c, Days: 7, Start: 2025-12-27
Error generating meal plan: invalid literal for int() with base 10: '331.62'
Traceback (most recent call last):
  File "/Users/mohammadpeyman/Desktop/PeyFab_Tech_demo/WellNoosh-app/main-brain/src/meal_planner_agent.py", line 299, in generate_meal_plan
    'calories': int(recipe.get('calories', 0)),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: invalid literal for int() with base 10: '331.62'
INFO:     127.0.0.1:58234 - "POST /api/meal-plans/ai-generate HTTP/1.1" 200 OK