# WellNoosh Bug Fixes & UI Updates - Round 2

## Context
React Native meal planning app. Issues with nutrition calculations, UI layout, and calendar functionality.

---

## üìä Nutrition Wheel (Home Screen) - UI Fix

### Task: Redesign wheel layout
- **Problem:** Nutrition wheel doesn't fit properly on screen, metrics are cut off/not fully visible
- **Fix:** Adjust layout/sizing so all 5 metrics (Calories, Protein, Fiber, Carbs, Fat) are clearly visible and fit within the screen bounds
- **Consider:** Responsive sizing for different device screens

---

## üî¢ Calorie Calculation Issues (Priority: High)

### Task: Fix Cal/serving accuracy end-to-end

**Problem 1: Incorrect Cal/serving after personalization**
- **Location:** Recipes ‚Üí Personalized meal view
- **Issue:** The meal adaptation agent doesn't calculate correct calories per serving
- **Fix:** Agent must return accurate calorie data when adapting meals

**Problem 2: Nutrition tracking mismatch**
- **Location:** Meal card ‚Üí "Cooked" button ‚Üí Home nutrition wheel
- **Issue:** When user marks meal as cooked, the calories added to home screen don't match the Cal/serving shown on the meal card
- **Fix:** Ensure the exact Cal/serving value from the meal flows through to the nutrition tracker
- **Example:** If meal shows "450 Cal/serving" ‚Üí clicking Cooked should add exactly 450 to daily calories

---

## üßπ UI Cleanup

| Remove | Location |
|--------|----------|
| Keywords | All meal cards |

---

## üçΩÔ∏è Default Serving Size

### Task: Enforce 1 serving as default
- **Scope:** ALL meal cards and meal views across the entire app
- **Behavior:** Every meal should default to 1 serving
- **Affected areas:** 
  - Recommendation cards
  - My Recipes
  - Meal Planner results
  - Personalized meals
  - Any other meal display

---

## üìÖ Meal Planner Bug Fix (STILL OPEN)

### Task: Calendar date mismatch
- **Problem:** User selects "1 day" ‚Üí chat shows today's date ‚Üí calendar adds meal to NEXT day
- **Current behavior:** Date in chat ‚â† Date in calendar
- **Expected behavior:** Selected date = Chat display date = Calendar date
- **Suggested fix:** 
  - Add explicit date picker for user to select target date
  - Or ensure "1 day" maps to today consistently throughout the flow

**Debug hints:**
- Check date handling in meal planner chat component
- Check date passed to calendar add function
- Look for off-by-one errors or timezone issues

---

## Acceptance Criteria
- [ ] Nutrition wheel fully visible on all screen sizes
- [ ] Cal/serving is accurate after meal personalization
- [ ] "Cooked" button adds correct calories to daily total
- [ ] Keywords removed from meal cards
- [ ] All meals default to 1 serving
- [ ] Calendar dates match user selection (no off-by-one)

---

## Notes 
- The calendar date issue was reported in previous sprint but persists ‚Äî investigate root cause
- Calorie accuracy is critical for user trust ‚Äî trace the data flow from agent ‚Üí meal card ‚Üí nutrition tracker